{% load express_tags %}

{% with table_name="main_table" %}
    {% with table_data=full_data|keyval:table_name %}
    <form action="/common/change_table" method="post" autocomplete="off" oninput="on_form_change(this)">
        <input hidden name="table_name" value="{{ table_name }}">
        <input hidden name="journal_page" value="{{ journal_page }}">
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th rowspan="2"> № печи </th>
                    <th rowspan="2"> Расход воздуха </th>
                    <th rowspan="2"> Упругость дутья </th>
                    <th colspan="2"> Расход кислорода </th>
                    <th colspan="2"> Тепмпература </th>
                    <th rowspan="2"> V </th>
                    <th> Давление под сводом </th>
                    <th rowspan="2"> УИО </th>
                    <th rowspan="2"> Дымососы </th>
                </tr>
                <tr>
                    <td> м<sup>3</sup> / ч</td>
                    <td> % </td>
                    <td> в слое </td>
                    <td> под сводом </td>
                    <td> кгс/м<sup>2</sup></td>
                </tr>
            </thead>
            <tbody>
                {% for_or_create _ in table_data.number %}
                    <tr class="indexed-line">
                        <input class="index-input" hidden name="index" value="{{ forloop.counter0 }}">
                        <td>{% include "value.html" with field_name="number" index=forloop.counter0 %}</td>
                        <td>{% include "value.html" with field_name="rate" index=forloop.counter0 %}</td>
                        <td>{% include "value.html" with field_name="elasticity" index=forloop.counter0 %}</td>
                        <td>{% include "value.html" with field_name="rate_o2" index=forloop.counter0 %}</td>
                        <td>{% include "value.html" with field_name="rate_o2_prc" index=forloop.counter0 %}</td>
                        <td>{% include "value.html" with field_name="temperture_in_layer" index=forloop.counter0 %}</td>
                        <td>{% include "value.html" with field_name="temperture_under" index=forloop.counter0 %}</td>
                        <td>{% include "value.html" with field_name="volume" index=forloop.counter0 %}</td>
                        <td>{% include "value.html" with field_name="pressure" index=forloop.counter0 %}</td>
                        <td>{% include "value.html" with field_name="uio" index=forloop.counter0 %}</td>
                        <td>{% include "value.html" with field_name="smoke" index=forloop.counter0 %}</td>
                    </tr>
                {% endfor_or_create %}
            </tbody>
        </table>
    </form>
    {% endwith %}
{% endwith %}
