{% load express_tags %}

{% set_global_context 'table_data' full_data|table_keyval:table_name %}
{% set_global_context 'table_info' fields_info|keyval:journal_name|keyval:table_name %}

<div class="journal-table" id="table_id_{{ table_name }}">
    <div class="table__title">{% block title %}{% endblock %}</div>
    <form action="/common/change_table" method="post" autocomplete="off" oninput="FormTable.on_form_change(this)"
                  class="{% block form_class %}{% endblock %} elog-table-form">
        <input hidden name="table_name" value="{{ table_name }}">
        <input hidden name="journal_page" value="{{ journal_page }}">

        {% block additional_upper %}{% endblock %}

        <div class="elog-table-container">
            {% block table %}{% endblock %}
        </div>

        {% block additional_lower %}{% endblock %}
        {% include "table_comment.html" with comment=table_data|keyval:"comment"|choose_val:0 %}
    </form>

    {% block js %}{% endblock %}
</div>
